@page "/AddAdult"
@using Models
@using FileData

@inject IFamilyData _familyData
@inject NavigationManager NavigationManager;

<h1>Add adult</h1>

<EditForm Model="newAdult">
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    
        <div class="form-group">
        <label for="address">Select address</label>
        <select class="form-control" id="address">
            @foreach (var family in Families)
            {
                <option> @family.StreetName @family.HouseNumber </option>
            }
        </select>
    </div>

    <div class="form-group">
        <label for="firstname">Firstname</label>
        <InputText @bind-Value="newAdult.FirstName" type="text" class="form-control" id="firstname" placeholder="Firstname"/>
    </div>
    <div class="form-group">
        <label for="lastname">Lastname</label>
        <InputText @bind-Value="newAdult.LastName" type="text" class="form-control" id="lastname" placeholder="Lastname"/>
    </div>
    <div class="form-group">
        <label for="hairColour">Hair colour</label>
        <InputText @bind-Value="newAdult.HairColor" type="text" class="form-control" id="hairColour" placeholder="HairColour"/>
    </div>
    <div class="form-group">
        <label for="eyeColour">Eye colour</label>
        <InputText @bind-Value="newAdult.EyeColor" type="text" class="form-control" id="eyeColour" placeholder="EyeColour"/>
    </div>
    <div class="form-group">
        <label for="age">Age</label>
        <InputText @bind-Value="newAdult.Age" type="text" class="form-control" id="age" placeholder="Age"/>
    </div>
    <div class="form-group">
        <label for="weight">Weight</label>
        <InputText @bind-Value="newAdult.Weight" type="text" class="form-control" id="weight" placeholder="Weight"/>
    </div>
    <div class="form-group">
        <label for="height">Height</label>
        <InputText @bind-Value="newAdult.Height" type="text" class="form-control" id="height" placeholder="Height"/>
    </div>
    <div class="form-group">
        <label for="sex">Sex</label>
        <select class="form-control" id="sex">
            <option>Agender</option>
            <option>Female</option>
            <option>Male</option>
            <option>Non binary</option>
            <option>Transgender</option>
            <option>Gender fluid</option>
            <option>Gender queer</option>
            <option>Intersex</option>
        </select>
    </div>

</EditForm>

@code {
    public List<Family> Families { get; set; }
    private Adult newAdult = new Adult();

    private void AddNewAdult()
    {
    //_familyData.AddAdult(newAdult);
        NavigationManager.NavigateTo("/Families");
    }

    protected override async Task OnInitializedAsync()
    {
        Families = _familyData.GetFamily().ToList();
    }

}